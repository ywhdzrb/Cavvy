public class TestMethodRefAndLambda {

    // ==================== 方法引用测试 ====================

    public static int add(int a, int b) {
        return a + b;
    }

    public static int multiply(int a, int b) {
        return a * b;
    }

    public static void testMethodRef() {
        println("=== Method Reference Test ===");

        // 方法引用: TestMethodRefAndLambda::add
        // 在 EOL 0.3.4.x 中，方法引用语法已支持，但函数式接口调用需要后续版本支持
        // 这里我们主要测试语法解析

        println("Method reference syntax: TestMethodRefAndLambda::add");
        println("Method reference syntax: TestMethodRefAndLambda::multiply");

        // 直接调用静态方法（验证方法存在）
        int sum = add(3, 5);
        print("add(3, 5) = ");
        println(sum);

        int product = multiply(4, 7);
        print("multiply(4, 7) = ");
        println(product);

        println("Method reference test completed!");
        println("");
    }

    // ==================== Lambda 表达式测试 ====================

    public static void testLambda() {
        println("=== Lambda Expression Test ===");

        // Lambda 表达式语法测试
        // (x) -> x * 2
        // (x, y) -> x + y
        // (int x) -> { return x * x; }

        println("Lambda syntax examples:");
        println("  (x) -> x * 2");
        println("  (x, y) -> x + y");
        println("  (int x) -> { return x * x; }");

        // 在 EOL 0.3.4.x 中，Lambda 表达式语法已支持
        // 但函数式接口和调用需要后续版本支持

        println("Lambda expression syntax test completed!");
        println("");
    }

    // ==================== 综合测试 ====================

    public static void testCombined() {
        println("=== Combined Features Test ===");

        // 测试方法重载和方法引用共存
        int result1 = add(10, 20);
        int result2 = multiply(5, 6);

        print("add(10, 20) = ");
        println(result1);

        print("multiply(5, 6) = ");
        println(result2);

        // 验证结果
        if (result1 == 30 && result2 == 30) {
            println("Combined test PASSED!");
        } else {
            println("Combined test FAILED!");
        }

        println("");
    }

    // ==================== Main Entry ====================

    public static void main() {
        println("========================================");
        println("EOL 0.3.4.x Method Reference & Lambda");
        println("========================================");
        println("");

        testMethodRef();
        testLambda();
        testCombined();

        println("========================================");
        println("All tests completed!");
        println("========================================");
    }
}
